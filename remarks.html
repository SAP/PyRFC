<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Remarks &mdash; pyrfc 1.9.4 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.9.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyrfc 1.9.4 documentation" href="index.html" />
    <link rel="next" title="Bibliography" href="bibliography.html" />
    <link rel="prev" title="Building from source" href="build.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">pyrfc 1.9.4 documentation</a></div>
        <div class="rel">
          <a href="build.html" title="Building from source"
             accesskey="P">previous</a> |
          <a href="bibliography.html" title="Bibliography"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="remarks">
<h1>Remarks<a class="headerlink" href="#remarks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="rfc-call-results-differ-from-expected">
<h2>RFC call results differ from expected<a class="headerlink" href="#rfc-call-results-differ-from-expected" title="Permalink to this headline">¶</a></h2>
<p>The response when invoking ABAP function module directly via transaction SE37
may be different from the response when called via Python connector. Typically leading
zeros are not shown in SE37 but sent to Python when remote FM is called from Python.</p>
<p>This is surely a bug and in general there are few possible causes:
the <tt class="docutils literal"><span class="pre">pyrfc</span></tt> package, the <em>SAP NW RFC Library</em>, or the function
module itself. Bugs in <em>SAP NW RFC Library</em> are unlikely, in <tt class="docutils literal"><span class="pre">pyrfc</span></tt> less likely and
the cause is usually the implementation of the ABAP FM, not respecting technical restriction
described <a class="reference external" href="http://sapinsider.wispubs.com/Assets/Articles/2001/January/BAPI-Conversion-Issues">here</a>.</p>
<p>Conversion (&#8220;ALPHA&#8221;) exists are triggered in SAP GUI and in SE37 but not when
the ABAP FM is called via SAP RFC protocol, therefore the rectifying logic shall be
implemented in the FM.
The behaviour can be also caised by different authorization levels, when ABAP FM is invoked
locally or remotely, via SAP RFC protocol.</p>
<p>Please try to assure that RFC is working (e.g. testing with the C connector),
before reporting the problem.</p>
</div>
<div class="section" id="multiple-threads">
<h2>Multiple threads<a class="headerlink" href="#multiple-threads" title="Permalink to this headline">¶</a></h2>
<p>If you work with a multiple thread environment, assure that each thread has
its own <tt class="docutils literal"><span class="pre">Connection</span></tt> object. The reason is that during the RFC calls,
the Python global interpreter lock (GIL) is released.</p>
</div>
<div class="section" id="open-valid-and-alive-connections">
<h2>Open, valid, and alive connections<a class="headerlink" href="#open-valid-and-alive-connections" title="Permalink to this headline">¶</a></h2>
<p>A connection may be closed by the client (e.g. via <a class="reference internal" href="pyrfc.html#pyrfc.Connection.close" title="pyrfc.Connection.close"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.close()</span></tt></a>) or
by the server (e.g. if an ABAP message is raised). The connection object
maintains a object variable <tt class="docutils literal"><span class="pre">alive</span></tt> to record the actual state.
However, the variable is of internal use only, as the connection object
<em>will try to reopen the connection, if needed</em>.
This leads to the &#8211; seemingly strange &#8211; situation that an explicitly closed
connection will allow you to call, e.g. <a class="reference internal" href="pyrfc.html#pyrfc.Connection.ping" title="pyrfc.Connection.ping"><tt class="xref py py-meth docutils literal"><span class="pre">Connection.ping()</span></tt></a>.</p>
<p>Implementation remark: It is not possible to query the actual state of the
connection in a reliable manner. Although <em>SAP NW RFC Library</em> offers the function
<tt class="docutils literal"><span class="pre">RfcIsConnectionHandleValid()</span></tt>, it will only return <em>False</em> if the connection
was closed by the client, not if it was closed from the server side. Therefore,
an explicit object variable is kept.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Building from source</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Remarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rfc-call-results-differ-from-expected">RFC call results differ from expected</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-threads">Multiple threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open-valid-and-alive-connections">Open, valid, and alive connections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyrfc.html"><tt class="docutils literal"><span class="pre">pyrfc</span></tt></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change log</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="build.html" title="Building from source"
             >previous</a> |
          <a href="bibliography.html" title="Bibliography"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/remarks.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2014, SAP.
      Last updated on 2014-03-12 14:42.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>